\usetheme[
    % https://tug.org/docs/latex/beamertheme-metropolis/metropolistheme.pdf
    % main theme
    % inner theme
    sectionpage=progressbar,
    subsectionpage=progressbar,
    % outer theme
    numbering=fraction,
    progressbar=head,
]{metropolis}

\RequirePackage{luatex85}

% \usetheme{metropolis} % Search online for beamer themes to find your favorite or use the Berkeley theme as in this file.

\setsansfont{Overlock} % cute !
\usepackage{colors}
\usepackage{appendixnumberbeamer}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}
\usepackage{fontawesome5}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}
\usepgfplotslibrary{external}

\pgfplotsset{compat=newest}
\usepgfplotslibrary{fillbetween}

\input{commands.tex}

\usepackage{standalone}
\usepackage{tikz-cd}
\usepackage{import}
\newcommand\graphnode[1]{\begin{tabular}{@{}c@{}}#1\end{tabular}}
\pgfplotsset{colormap={whitered}{color(0cm)=(white); color(1cm)=(white!20!tabpurple)}}
\usetikzlibrary{hobby}
\usetikzlibrary{shapes,arrows,positioning}

\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}

\usepackage{bbm}
% \usepackage{enumitem}

\title{Existence of Monge maps for the Gromov--Wasserstein distance}
\subtitle{Stage de fin d'études -- MVA \& Mines Paris}
\author{Théo \textsc{Dumont}}
\institute{Laboratoire d'Informatique Gaspard Monge (LIGM)\\\textit{Supervisors:} François-Xavier \textsc{Vialard}, Théo \textsc{Lacombe} (LIGM)}
\date{October 20\textsuperscript{th} 2022}
\titlegraphic{%
    % \hfill
    \begin{center}
        \includegraphics[width=.2\textwidth]{img/logo-ens.jpg}
        \hspace{1cm}
        \includegraphics[width=.13\textwidth]{img/logo_mines.png}
        \hspace{1cm}
        \includegraphics[width=.1\textwidth]{img/logo-ligm.png}
        \hfill\\
    \end{center}
}

\makeatletter
\setbeamertemplate{title page}{
  \begin{minipage}[b][\paperheight]{\textwidth}
    \vspace*{1cm}
    \ifx\inserttitlegraphic\@empty\else\inserttitlegraphic\fi
    % \vfill%
    \ifx\inserttitle\@empty\else\usebeamertemplate*{title}\fi
    \ifx\insertsubtitle\@empty\else\usebeamertemplate*{subtitle}\fi
    \usebeamertemplate*{title separator}
    \ifx\beamer@shortauthor\@empty\else\usebeamertemplate*{author}\fi
    \ifx\insertdate\@empty\else\usebeamertemplate*{date}\fi
    \ifx\insertinstitute\@empty\else\usebeamertemplate*{institute}\fi
    \vfill
    \vspace*{1cm}
  \end{minipage}
}
% \setbeamercolor{framesubtitle}{fg=mDarkTeal}
\defbeamertemplate*{frametitle}{myframetitle}{%
    \nointerlineskip
    \begin{beamercolorbox}[%
        wd=\paperwidth,%
        sep=0pt,%
        leftskip=\metropolis@frametitle@padding,
        rightskip=\metropolis@frametitle@padding,
        ]{frametitle}%
        \metropolis@frametitlestrut@start
        \quad\insertframetitle%%%%%%%%%%%%%%%%%%%%%%
        \hspace{5pt}
        \nolinebreak
        \metropolis@frametitlestrut@end
        \usebeamerfont{framesubtitle}%
        \insertframesubtitle
    \end{beamercolorbox}
}
\setbeamertemplate{frametitle}[myframetitle]


\setbeamertemplate{section page}{
  \centering
  \begin{minipage}{22em}
    \raggedright
    \usebeamercolor[fg]{section title}
    \usebeamerfont{section title}
    \thesection.~\insertsectionhead\\[-1ex]
    \usebeamertemplate*{progress bar in section page}
    \par
    \ifx\insertsubsectionhead\@empty\else%
      \usebeamercolor[fg]{subsection title}%
      \usebeamerfont{subsection title}%
      \thesection.\thesubsection.~\insertsubsectionhead
    \fi
  \end{minipage}
  \par
  \vspace{\baselineskip}
}


% \setbeamertemplate{section in toc}[sections numbered]
% \setbeamertemplate{subsection in toc}[subsections numbered]
% https://github.com/matze/mtheme/issues/282
\setbeamertemplate{section in toc}
{\leavevmode\leftskip=0em\rlap{\hskip-2em$\quad$\textbf\inserttocsectionnumber.}$\quad$\textbf\inserttocsection\par}
\setbeamertemplate{subsection in toc}
{\leavevmode\leftskip=2em\rlap{\hskip-2em$\quad$\inserttocsectionnumber.\inserttocsubsectionnumber.}$\quad$\inserttocsubsection\par}
% {}


\setbeamercolor{emph}{fg=mLightBrown!85!black}
\renewcommand<>{\emph}[1]{%
  {\usebeamercolor[fg]{emph}\only#2{\itshape}#1}%
}

\setbeamercolor{background canvas}{bg=white}


\usepackage{cleveref}

\usepackage{dashbox}
\usepackage{mathtools}

\usepackage{hyperref}
% \usepackage[backref=page]{hyperref}
% \hypersetup{
%     breaklinks=true,
%     colorlinks=true,
%     urlcolor=urlcolor,
%     linkcolor=linkcolor,
%     citecolor=citecolor,
%     }
\usepackage{algorithm}
\usepackage{algpseudocode}